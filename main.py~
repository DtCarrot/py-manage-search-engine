import sqlite3 
import os
import json
import argparse

def get_list_of_file():
  json_data_file = open('./searchdata.json')
  json_data = json.load(json_data_file)
  values_to_insert = []
  database_url = '/home/darren/.config/google-chrome/Default/Web Data'
  for item in json_data['links']:
    values_to_insert.append((item["searchShortcut"], item["searchShortcut"], item["searchLink"],
                             item["searchLink"]))
  conn = sqlite3.connect(database_url)
  c = conn.cursor()

  # Multiple inserts into the database
  c.executemany("""INSERT INTO keywords('short_name','keyword', 'favicon_url', 'url')
                   VALUES (?,?,?,?)""", values_to_insert)

  conn.commit()
  conn.close()
  

parser = argparse.ArgumentParser(description='Modify the product speed')
# User can specify their project file directory, pre-generated file
parser.add_argument('--file', dest='file')
parser.add_argument('--type', dest='type', default=[None], nargs='*')
parser.add_argument('--action', dest='action', required=True)
args = parser.parse_args()
if args.action == 'export':
  export_to_json()
if args.action == 'load':
  load_to_search_engine(args.type, args.file)

